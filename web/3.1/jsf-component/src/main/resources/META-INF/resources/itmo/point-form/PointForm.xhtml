<ui:component xmlns:ui="jakarta.faces.facelets"
              xmlns:cc="jakarta.faces.composite"
              xmlns:h="jakarta.faces.html"
              xmlns:f="jakarta.faces.core"
              xmlns:pt="jakarta.faces.passthrough">
  <cc:interface>
    <cc:attribute name="valueX" />
    <cc:attribute name="valueY" />
    <cc:attribute name="valueR" />
  </cc:interface>

  <cc:implementation>
    <h:form styleClass="lab-form-keys vertical-group">
      <p>Проверка точки</p>
      <div class="lab-form-field">
        <p><b>X</b></p>
        <h:inputText id="keysX" pt:placeholder="Введите дробное число" styleClass="wide-input double-input" autocomplete="off" value="#{cc.attrs.valueX}" required="true">
          <f:converter converterId="jakarta.faces.Double" />
          <f:validator validatorId="xRangeValidator" />
        </h:inputText>
      </div>
      <h:message for="keysX" styleClass="lab-form-error" />
      <div class="lab-form-field">
        <p><b>Y</b></p>
        <h:selectOneMenu id="keysY" required="true" value="#{cc.attrs.valueY}">
          <f:selectItem itemLabel="Выберите опцию" itemValue=""/>
          <f:selectItems value="#{pointForm.range.y}"/>
          <f:converter converterId="jakarta.faces.Double" />
          <f:validator validatorId="yRangeValidator" />
        </h:selectOneMenu>
      </div>
      <h:message for="keysY" styleClass="lab-form-error" />
      <div class="lab-form-field">
        <p><b>R</b></p>
        <h:selectOneRadio id="keysR" required="true" value="#{cc.attrs.valueR}">
          <f:ajax execute="keysR" render="messageKeysR plot-area:plotR plot-area:dots plot-area:messagePlotR" />
          <f:selectItems value="#{pointForm.range.r}"/>
          <f:converter converterId="jakarta.faces.Double" />
          <f:validator validatorId="rRangeValidator" />
        </h:selectOneRadio>
      </div>
      <h:message for="keysR" id="messageKeysR" styleClass="lab-form-error" />
      <h:commandLink id="sendButton" value="Отправить" action="#{pointForm.send(cc.attrs.valueX, cc.attrs.valueY, cc.attrs.valueR)}">
        <f:ajax execute="@form" render="@form plot-area:dots dot-history"></f:ajax>
      </h:commandLink>
      <h:commandLink value="Очистить" action="#{pointForm.clear}">
        <f:ajax render="plot-area:dots dot-history"></f:ajax>
      </h:commandLink>
    </h:form>
  </cc:implementation>
</ui:component>